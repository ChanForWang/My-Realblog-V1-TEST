(function(a){a.extend(String.prototype,{trim:function(){return this.replace(/(^\s*)|(\s*$)|\r|\n/g,"")},startsWith:function(b){return this.indexOf(b)===0},endsWith:function(b){var c=this.length-b.length;return c>=0&&this.lastIndexOf(b)===c},replaceSuffix:function(b){return this.replace(/\[[0-9]+\]/,"["+b+"]").replace("#index#",b)},getRequestURI:function(){var b=this.indexOf("?");return(b==-1)?this:this.substr(0,b)},getParams:function(e){var j={},c=this.indexOf("?");if(c!=-1){var h=this.substr(c+1),f=h.split("&");for(var b=0;b<f.length;b++){var d=f[b].split("=");var g=e?d[1].encodeParam():d[1];j[d[0]]=d.length>1?g:""}}return j},encodeParam:function(){return encodeURIComponent(this)},replaceAll:function(c,b){return this.replace(new RegExp(c,"gm"),b)},skipChar:function(b){if(!this||this.length===0){return""}if(this.charAt(0)===b){return this.substring(1).skipChar(b)}return this},isPositiveInteger:function(){return(new RegExp(/^[1-9]\d*$/).test(this))},isInteger:function(){return(new RegExp(/^\d+$/).test(this))},isNumber:function(c,b){return(new RegExp(/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/).test(this))},isValidPwd:function(){return(new RegExp(/^([_]|[a-zA-Z0-9]){6,32}$/).test(this))},isValidMail:function(){return(new RegExp(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/).test(this.trim()))},isSpaces:function(){for(var b=0;b<this.length;b+=1){var c=this.charAt(b);if(c!=" "&&c!="\n"&&c!="\t"&&c!="\r"){return false}}return true},isMobile:function(){return(new RegExp(/(^[0-9]{11,11}$)/).test(this))},isUrl:function(){return(new RegExp(/^[a-zA-z]+:\/\/([a-zA-Z0-9\-\.]+)([-\w .\/?%&=:]*)$/).test(this))},isExternalUrl:function(){return this.isUrl()&&this.indexOf("://"+document.domain)==-1},parseCurrency:function(b){var c=parseFloat(this);return parseFloat(c.toFixed(b||2))}});a.extend({bubble:{_tip:["法制","爱国","敬业","诚信","友善","富强","民主","文明","和谐","自由","平等","公正"],init:function(){var b=0;a("body").click(function(g){b=b>=a.bubble._tip.length?0:b;if(!g.originalEvent){return}var c=g.originalEvent.x||g.originalEvent.layerX||0;var h=g.originalEvent.y||g.originalEvent.layerY||0;var d='<span style="position: fixed;z-index:9999;left: '+c+"px;top: "+h+'px;"></span>';var f=a(d).appendTo(a(this));f.effectBubble({y:-100,className:"thumb-bubble",fontSize:0.5,content:'<i class="fa fa-smile-o"></i> '+a.bubble._tip[b]});setTimeout(function(){f.remove()},1002);b++})},unbind:function(b){a("body").unbind("click");if(b&&!isNaN(b=parseInt(b))){setTimeout(function(){a.bubble.init()},b)}}}});a.fn.extend({flipCard:function(b){var c=a.extend({},b);return this.each(function(){var d=a(this);d.removeClass("animation-rotate-up").removeClass("animation-rotate-up-back");d.addClass("animation-rotate-up");setTimeout(function(){d.addClass("animation-rotate-up-back")},500)})},effectBubble:function(b){var c=a.extend({content:"+1",y:-100,duration:1000,effectType:"ease",className:"",fontSize:2},b);return this.each(function(){var h=a(this),e="effect-fly-"+(new Date().getTime());var d='<span id="#flyId#" class="effect-bubble-fly #class#" style="opacity: 1;top:#top#px;left:#left#px;font-size: #fontSize#rem;">#content#</span>';var f=d.replaceAll("#left#",12).replaceAll("#top#",-8).replaceAll("#flyId#",e).replaceAll("#content#",c.content).replaceAll("#class#",c.className).replaceAll("#fontSize#",c.fontSize);var g=a(f).appendTo(h);g.fadeIn(100,"swing",function(){g.animate({top:c.y,opacity:0},100,function(){g.fadeOut(c.duration,function(){g.remove()})})})})}})})(jQuery);$(document).ready(function(){$.bubble.init()});